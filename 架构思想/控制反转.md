# 控制反转

## 什么是控制反转

  **控制反转** （英语：Inversion of Control，缩写为 **IoC** ），是[面向对象编程](https://zh.wikipedia.org/wiki/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%BC%96%E7%A8%8B "面向对象编程")中的一种设计原则，可以用来减低计算机代码之间的[耦合度](https://zh.wikipedia.org/wiki/%E8%80%A6%E5%90%88%E5%BA%A6_(%E8%A8%88%E7%AE%97%E6%A9%9F%E7%A7%91%E5%AD%B8)) "耦合度 (计算机科学)")。

  早在2004年，[Martin Fowler](https://zh.wikipedia.org/wiki/Martin_Fowler "Martin Fowler")就提出了“哪些方面的控制被反转了？”这个问题。他总结出是依赖对象的获得被反转了，因为大多数应用程序都是由两个或是更多的类通过彼此的合作来实现业务逻辑，这使得每个对象都需要获取与其合作的对象（也就是它所依赖的对象）的引用。如果这个获取过程要靠自身实现，那么这将导致代码高度[耦合](https://zh.wikipedia.org/wiki/%E8%80%A6%E5%90%88%E5%8A%9B_(%E8%A8%88%E7%AE%97%E6%A9%9F%E7%A7%91%E5%AD%B8)) "耦合力 (计算机科学)")并且难以维护和调试。

  控制反转的主要思想：是将程序的控制权从应用程序代码中抽离出来，转交给一个框架或容器，由它来管理对象的创建和依赖关系。
![image](https://github.com/AdamLambet/knowledge-blog/assets/42317616/1d0f5732-9444-4793-97fc-c0c79b4cefd7)
在没有通过控制反转解耦之前，对象依赖关系是这样的：
![image](https://github.com/AdamLambet/knowledge-blog/assets/42317616/ae458a28-7f6e-4c5a-bbbb-381b3b2816f9)

